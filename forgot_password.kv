<ForgotPasswordScreen>
    name: 'forgot_password_screen'
    recoveryEmailBox: recoveryEmailBox
    sendRecoveryEmailButton: sendRecoveryEmailButton
    backToLoginBtn: backToLoginBtn
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: BG_COLOR
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: DECORATION_COLOR
        Ellipse:
            pos: self.size[0] - 200, - 200
            size: 400, 400
        Ellipse:
            pos: -225, self.size[1] *.5 - 125
            size: 250, 250
        Color:
            rgba: MAIN_COLOR
        Triangle:
            points: [0, self.size[1], .9 * self.size[0], self.size[1], 0, .75 * self.size[1]]
        Color:
            rgba: SECONDARY_COLOR
        Triangle:
            points: [self.size[0], self.size[1], 0, self.size[1], self.size[0], .73 * self.size[1]]
    ChangeLanguage:
        background_normal: "img/gb.png"
        background_down: "img/gb.png"
        size: 50, 38
        size_hint: None, None
        pos: root.width - (self.width + 10), root.height - (self.height + 10)
    BoxLayout:
        orientation: 'vertical'
        Widget:
            size_hint_y: .15
        RelativeLayout:
            size_hint_y: .1
        Label:
            text: "Password recovery"
            color: MAIN_COLOR
            font_size: self.height / 2
            size_hint_y: .1
        BoxLayout:
            background_color: 0,1,0,1
            size_hint_y: .2
            orientation: 'horizontal'
            spacing: -1 * (.5 * self.size[0])
            Label:
                markup: True
                text: "%s" % icon('zmdi-key')
                color: MAIN_COLOR
                font_size: self.height / 1.5
            Label:
                markup: True
                text: "%s" % icon('zmdi-lock')
                color: MAIN_COLOR
                font_size: self.height / 1.5
        LoginScreenLayout:
            infoLabel: infoLabel
            size_hint_y: .6
            padding: [.1 * self.size[0], 0]
            orientation: 'vertical'
            Label:
                size_hint_y: .2
                font_size: self.height / 4
                text_size: self.width, None
                halign: 'center'
                padding_of_box: 10
                radius_of_box: 15
                color: MAIN_COLOR
                font_name: 'Lato'
                text: "Insert E-mail address you provided in registration form"
                canvas.before:
                    Color:
                        rgba: MAIN_COLOR
                    Line:
                        rounded_rectangle: self.pos[0] - self.padding_of_box, self.pos[1] - self.padding_of_box, self.size[0] + 2 * self.padding_of_box, self.size[1] + 2 * self.padding_of_box, self.radius_of_box
                        width: 1.5
            Widget:
                size_hint_y: .1
            SimpleInput:
                id: recoveryEmailBox
                size_hint_y: .1
                hint_text: 'E-Mail address'
            InfoLabel:
                id: infoLabel
                size_hint_y: .1
                markup: True
                text_size: self.width, None
#                on_ref_press: self.on_ref_pressed()
            Widget:
                size_hint_y: .1
            BoxLayout:
                size_hint_y: .3
                orientation: 'vertical'
                spacing: 10
                BottomLayout:
                    size_hint_y: .2
                    id: bottomLayout
                    SendEmailButton:
                        bottomLayout: bottomLayout
                        infoLabel: infoLabel
                        recoveryEmailBox: recoveryEmailBox
                        id: sendRecoveryEmailButton
                        text: "Send recovery E-mail"

                BackToLoginButton:
                    id: backToLoginBtn
                    text: "Back to login"
                    size_hint_y: .2
                    on_release:
                        app.root.transition = FadeTransition()
                        app.root.current = 'login_screen'
            Widget:
                size_hint_y: .05

<BackToLoginButton>:
    background_color: [0,0,0,0]
    color: [0,0,0,.5]

<SendEmailButton>:
    background_color: [0,0,0,0]
    color: BG_COLOR
    on_press: self.on_pressed()
    on_release: self.on_released()
    font_size: mtx.sp(24)
    font_name: 'Lato'
    bold: True
    canvas.before:
        Color:
            rgba: rgba(self.rectColor)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [20, 20, 20, 20]

